{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./index.js","webpack:///./templates/photoCard.hbs"],"names":["apiService","page","query","image_type","orientation","key","searchByName","_this","this","requestParams","fetch","proxy","then","res","json","parseResp","incrementPage","hits","searchQuery","value","resetPage","refs","searchInput","document","querySelector","searchForm","searchButton","loadMore","gallery","buildListItemsMarkup","items","photoCardTemplate","insertListItems","insertAdjacentHTML","addEventListener","e","preventDefault","inputValue","currentTarget","elements","innerHTML","data","markup","Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","propertyIsEnumerable","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","escapeExpression","webformatURL","call","name","hash","likes","views","comments","downloads","compiler","main","stack1","each","fn","program","inverse","noop","useData"],"mappings":"2JAIeA,EAAA,CACbC,KAAM,EACNC,MAAO,GACPC,WAAY,QACZC,YAAa,aACbC,IAAK,qCAELC,aAPa,WAOE,IAAAC,EAAAC,KACPC,EAAa,eAAkBD,KAAKL,WAAvB,gBAAiDK,KAAKJ,YAAtD,MAAuEI,KAAKN,MAA5E,SAA0FM,KAAKP,KAA/F,QAA2GO,KAAKH,IAEnI,OAAOK,MAAMC,+DAAkBF,GAAeG,KAAK,SAAAC,GAAG,OACpDA,EAAIC,OAAOF,KAAK,SAAAG,GAEd,OADAR,EAAKS,gBACED,EAAUE,UAKvBC,kBACE,OAAOV,KAAKN,OAGdgB,gBAAgBC,GACdX,KAAKN,MAAQiB,GAGfH,cA1Ba,WA2BXR,KAAKP,MAAQ,GAGfmB,UA9Ba,WA+BXZ,KAAKP,KAAO,yBC/BVoB,EAAO,CACXC,YAAaC,SAASC,cAAc,qBACpCC,WAAYF,SAASC,cAAc,gBACnCE,aAAcH,SAASC,cAAc,8BACrCG,SAAUJ,SAASC,cAAc,iCACjCI,QAASL,SAASC,cAAc,aAsBlC,SAASK,EAAqBC,GAC5B,OAAOC,IAAkBD,GAG3B,SAASE,EAAgBF,GACvBT,EAAKO,QAAQK,mBAAmB,YAAaH,GAxB/CT,EAAKI,WAAWS,iBAAiB,SAGjC,SAA0BC,GACxBA,EAAEC,iBAEF,IAAMC,EAAaF,EAAEG,cAAcC,SAASrC,MAAMiB,MA6BlDE,EAAKO,QAAQY,UAAY,GA1BzBxC,EAAWoB,YAEXpB,EAAWkB,YAAcmB,EAEzBrC,EAAWM,eAAeM,KAAK,SAAA6B,GAC7B,IAAMC,EAASb,EAAqBY,GACpCT,EAAgBU,OAdpBrB,EAAKM,SAASO,iBAAiB,QA0B/B,WACElC,EAAWM,eAAeM,KAAK,SAAA6B,GAC7B,IAAMC,EAASb,EAAqBY,GACpCT,EAAgBU,6BC1CpB,IAAAC,EAAiBC,EAAQ,QAEzBC,EAAAC,SAAAH,EAAA,SAAAA,GAAAI,SAAA,CAAiEC,EAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAX,GACjEQ,EAAAI,qBAAA,IAAAC,EAAAC,EAAA,MAAAL,IAAAD,EAAAO,aAAA,GAAoHC,EAAAR,EAAAS,MAAAC,cAAAC,EAAA,WAAAC,EAAAZ,EAAAa,iBAEpH,uFACAD,SAAAP,EAAA,OAAAA,EAAAH,EAAAY,eAAA,MAAAb,IAAAa,aAAAb,IAAAI,EAAAG,KAAAG,EAAAN,EAAAU,KAAAT,EAAA,CAAsLU,KAAA,eAAAC,KAAA,GAA+BzB,SAAaa,GAClO,uJACAO,SAAAP,EAAA,OAAAA,EAAAH,EAAAgB,QAAA,MAAAjB,IAAAiB,MAAAjB,IAAAI,EAAAG,KAAAG,EAAAN,EAAAU,KAAAT,EAAA,CAAwKU,KAAA,QAAAC,KAAA,GAAwBzB,SAAaa,GAC7M,iHACAO,SAAAP,EAAA,OAAAA,EAAAH,EAAAiB,QAAA,MAAAlB,IAAAkB,MAAAlB,IAAAI,EAAAG,KAAAG,EAAAN,EAAAU,KAAAT,EAAA,CAAwKU,KAAA,QAAAC,KAAA,GAAwBzB,SAAaa,GAC7M,8GACAO,SAAAP,EAAA,OAAAA,EAAAH,EAAAkB,WAAA,MAAAnB,IAAAmB,SAAAnB,IAAAI,EAAAG,KAAAG,EAAAN,EAAAU,KAAAT,EAAA,CAA8KU,KAAA,WAAAC,KAAA,GAA2BzB,SAAaa,GACtN,qHACAO,SAAAP,EAAA,OAAAA,EAAAH,EAAAmB,YAAA,MAAApB,IAAAoB,UAAApB,IAAAI,EAAAG,KAAAG,EAAAN,EAAAU,KAAAT,EAAA,CAAgLU,KAAA,YAAAC,KAAA,GAA4BzB,SAAaa,GACzN,yDACCiB,SAAA,eAAAC,KAAA,SAAAvB,EAAAC,EAAAC,EAAAC,EAAAX,GACD,IAAAgC,EAEA,OAAsM,OAAtMA,EAAAtB,EAAAuB,KAAAV,KAAA,MAAAd,IAAAD,EAAAO,aAAA,GAA4FN,EAAA,CAAUe,KAAA,OAAAC,KAAA,GAAuBS,GAAA1B,EAAA2B,QAAA,EAAAnC,EAAA,GAAAoC,QAAA5B,EAAA6B,KAAArC,UAAyEgC,EAAA,IACrMM,SAAA","file":"main.20d756df0046bb4975ea.js","sourcesContent":["\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst proxy = 'https://cors-anywhere.herokuapp.com/';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  key: '14154163-50f1b5a2e44fb9aa2c654ef49',\r\n\r\n  searchByName() {\r\n    const requestParams = `?image_type=${this.image_type}&orientation=${this.orientation}&q=${this.query}&page=${this.page}&key=${this.key}`;\r\n\r\n    return fetch(proxy + baseUrl + requestParams).then(res =>\r\n      res.json().then(parseResp => {\r\n        this.incrementPage();\r\n        return parseResp.hits;\r\n      }),\r\n    );\r\n  },\r\n\r\n  get searchQuery(){\r\n    return this.query;\r\n  },\r\n\r\n  set searchQuery(value){\r\n    this.query = value;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage(){\r\n    this.page = 1;\r\n  }\r\n};\r\n","import './styles.css';\r\nimport apiService from './js/apiService.js';\r\nimport photoCardTemplate from './templates/photoCard.hbs';\r\n\r\nconst refs = {\r\n  searchInput: document.querySelector('input[name=query]'),\r\n  searchForm: document.querySelector('#search-form'),\r\n  searchButton: document.querySelector('button[name=search-button]'),\r\n  loadMore: document.querySelector('button[data-action=load-more]'),\r\n  gallery: document.querySelector('.gallery'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', searchPhotoCards);\r\nrefs.loadMore.addEventListener('click', loadMorePhotoCards);\r\n\r\nfunction searchPhotoCards(e) {\r\n  e.preventDefault();\r\n\r\n  const inputValue = e.currentTarget.elements.query.value;\r\n\r\n  clearPhotoList();\r\n  apiService.resetPage();\r\n\r\n  apiService.searchQuery = inputValue;\r\n\r\n  apiService.searchByName().then(data => {\r\n    const markup = buildListItemsMarkup(data);\r\n    insertListItems(markup);\r\n  });\r\n}\r\n\r\nfunction buildListItemsMarkup(items) {\r\n  return photoCardTemplate(items);\r\n}\r\n\r\nfunction insertListItems(items) {\r\n  refs.gallery.insertAdjacentHTML('beforeend', items);\r\n}\r\n\r\nfunction loadMorePhotoCards() {\r\n  apiService.searchByName().then(data => {\r\n    const markup = buildListItemsMarkup(data);\r\n    insertListItems(markup);\r\n  });\r\n}\r\n\r\nfunction clearPhotoList() {\r\n  refs.gallery.innerHTML = '';\r\n}\r\n\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<li>\\r\\n  <div class=\\\"photo-card\\\">\\r\\n    <img class=\\\"photo-card__image\\\" src=\\\"\"\n    + alias5(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"100%\\\"/>\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">visibility</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">comment</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        \"\n    + alias5(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}